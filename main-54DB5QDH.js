import{Aa as R,C as u,Ca as k,Da as F,Ea as a,W as d,ba as f,ca as h,qa as v,ra as c,sa as g,ta as A,ua as n,va as C,wa as T,x as r,xa as S,ya as p,z as l}from"./chunk-HNWXAOUL.js";var I=(t,i)=>{let e=r(a),o=r(p);return e.isAuthenticated()?!0:(o.navigate(["/login"]),!1)};var s=(t,i)=>{let e=r(a),o=r(p);return e.isAuthenticated()?(o.navigate(["/todos"]),!1):!0};var w=[{path:"login",title:"Login | TodoApp",canActivate:[s],loadComponent:()=>import("./chunk-7KPEQNTK.js")},{path:"register",title:"Register | TodoApp",canActivate:[s],loadComponent:()=>import("./chunk-MGEDDZWS.js")},{path:"todos",title:"Todos | TodoApp",canActivate:[I],loadComponent:()=>import("./chunk-X6G6J4D7.js")},{path:"",redirectTo:"login",pathMatch:"full"},{path:"**",redirectTo:"todos",pathMatch:"full"}];var m=(t,i)=>{let e=localStorage.getItem("token");if(e){let o=t.clone({setHeaders:{Authorization:`Bearer ${e}`}});return i(o)}return i(t)};function H(){return{tokenGetter:()=>localStorage.getItem("token"),allowedDomains:["localhost:4200","https://backend.osc-fr1.scalingo.io/","localhost:4000"],disallowedRoutes:["localhost:4200/login","localhost:4200/register"]}}var x={providers:[R(w),T(),c(g([m])),c(A()),F,{provide:k,useFactory:H},u(n)]};var y=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275cmp=l({type:t,selectors:[["app-root"]],standalone:!0,features:[f([{provide:v,useFactory:m,multi:!0}]),h],decls:1,vars:0,template:function(o,M){o&1&&d(0,"router-outlet")},dependencies:[S,n],encapsulation:2})}}return t})();C(y,x).catch(t=>console.error(t));
